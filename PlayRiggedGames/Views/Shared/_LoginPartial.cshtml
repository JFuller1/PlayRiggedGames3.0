@using Microsoft.AspNetCore.Identity;
@using PlayRiggedGames.Domain.Models;
@using PlayRiggedGames.Service;

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@inject IRiggedService _service;

<div class="horizontal-nav">
    <div class="title-container">
        <i class="fa-solid fa-trophy"></i>
        <h2>PlayRiggedGames</h2>
    </div>

    @if (SignInManager.IsSignedIn(User))
    {
        <div class="right-side-container">
            <div class="profile-container">
                <a asp-area="Identity" asp-page="/Account/Manage/Index">
                    <i class="fa-solid fa-user"></i>
                    <p>@UserManager.GetUserName(User)</p>
                </a>
            </div>
            <div class="balance-container">
                <i class="fa-solid fa-wallet"></i>
                <p>$<span>@_service.GetUserById(UserManager.GetUserId(User)).Money</span></p>
            </div>
        </div>
    }
    else
    {
        <div class="right-side-container">
            <div class="profile-container">
                <a asp-area="Identity" asp-page="/Account/Register">
                    <i class="fa-solid fa-id-card"></i>
                    <p>Register</p>
                </a>
            </div>
            <div class="profile-container">
                <a asp-area="Identity" asp-page="/Account/Login">
                    <i class="fa-solid fa-user"></i>
                    <p>Login</p>
                </a>
            </div>
        </div>

        @*<li class="nav-item">
            <a class="nav-link text-dark" id="register" asp-area="Identity" asp-page="/Account/Register">Register</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark" id="login" asp-area="Identity" asp-page="/Account/Login">Login</a>
        </li>*@
    }
</div>

<!-- Logout -->
@*<form id="logoutForm" class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
    <button id="logout" type="submit" class="nav-link btn btn-link text-dark">Logout</button>
</form>*@